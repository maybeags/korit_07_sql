# ì…ì‹¤ ì²´í¬ í•´ì£¼ì„¸ìš” !! ğŸ’Œ

# CUD ê´€ë ¨ ìˆ˜ì—…
1. Database ìƒì„±
```sql
create database ë°ì´í„°ë² ì´ìŠ¤ëª…

create database kor_it;
```
2. íŠ¹ì • DBì˜ ì‚¬ìš©
```sql
use ë°ì´í„°ë² ì´ìŠ¤ëª…

use kor_it;
```
3. í…Œì´ë¸” ìƒì„±
```sql
create table í…Œì´ë¸”ëª…(
  ì»¬ëŸ¼1 ì†ì„±1, ì†ì„±2, ...,
  ì»¬ëŸ¼2 ì†ì„±a, ì†ì„±b, ...,
);

CREATE TABLE students (
	student_id INT AUTO_INCREMENT PRIMARY KEY,
	student_name VARCHAR(100) NOT NULL,
	enrollment_date DATE NOT null
);
```
í˜„ì¬ê¹Œì§€ì˜ ìˆ˜ì—…ì—ì„œ students / student2ë¼ê³  í•˜ëŠ” ë‘ ê°œì˜ í…Œì´ë¸”ì„ ìƒì„±í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° studentsì—ëŠ” ì—†ê³  students2ì—ëŠ” ìˆëŠ” ì»¬ëŸ¼ì´ ìˆìŠµë‹ˆë‹¤.
email ê´€ë ¨ì´ë„¤ìš”. ê·¸ëŸ¬ë©´ ì´ë¯¸ ìƒì„±ëœ í…Œì´ë¸”ì— ëŒ€ê³  ì»¬ëŸ¼ì„ ì¶”ê°€í•´ì•¼í•©ë‹ˆë‹¤.

- ì»¬ëŸ¼ ì¶”ê°€ SQLë¬¸
```sql
ALTER TABLE í…Œì´ë¸”ëª… ADD COLUMN ì»¬ëŸ¼ëª… ìë£Œí˜• ì¡°ê±´;
ALTER TABLE students ADD COLUMN student_email VARCHAR(100) NOT NULL;
```

- ì»¬ëŸ¼ ì‚­ì œ SQLë¬¸
```sql
ALTER TABLE í…Œì´ë¸”ëª… DROP COLUMN ì»¬ëŸ¼ëª…;
ALTER TABLE students2 DROP COLUMN email;
```

- í•´ë‹¹ ì»¬ëŸ¼ì˜ ëª¨ë“  ë°ì´í„°ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤. ë˜ëŒë¦´ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë°±ì—… ë“± ì‚¬ì „ ì¤€ë¹„ê°€ í•„ìš”í•©ë‹ˆë‹¤.

- ì»¬ëŸ¼ ìˆ˜ì • SQLë¬¸
  1. CAHNGE : ê¸°ì¡´ ì»¬ëŸ¼ì˜ ì»¬ëŸ¼ëª… ë° ìë£Œí˜•ê³¼ ì¡°ê±´ì„ ì „ë¶€ ìƒˆë¡œ ì„¸íŒ…í•  ë•Œ ì‚¬ìš©.
```sql
ALTER TABLE í…Œì´ë¸”ëª… CHANGE COLUMN ê¸°ì¡´ì»¬ëŸ¼ëª… ìƒˆì»¬ëŸ¼ëª… ìë£Œí˜•, ì¡°ê±´
```
CHANGEë¥¼ ì“¸ ê²½ìš° ì»¬ëŸ¼ëª…ë§Œ ë°”ê¾¸ë”ë¼ë„ ìë£Œí˜•ê³¼ ì¡°ê±´ì„ ì „ë¶€ ë‹¤ ëª…ì‹œí•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.
```sql
ALTER TABLE students2 CHANGE COLUMN email student2_email VARCHAR(100) NOT NULL;
```
  2. RENAME : ì»¬ëŸ¼ì˜ ì´ë¦„ë§Œ ë³€ê²½í•˜ê³  ê¸°ì¡´ ìë£Œí˜•ê³¼ ì¡°ê±´ì€ ìœ ì§€ë¨. DBì— ë”°ë¼ ì§€ì›ì´ ë˜ëŠ” ê²ƒë„ ìˆê³  ì•„ë‹Œ ê²ƒë„ ìˆìŒ.
```sql
ALTER TABLE í…Œì´ë¸”ëª… RENAME COLUMN ê¸°ì¡´ì»¬ëŸ¼ëª… TO ìƒˆì»¬ëŸ¼ëª…;

ALTER TABLE students2 RENAME COLUMN email TO students2_email;
```

enrollment_dateë¥¼ ì‚­ì œí•˜ê³ , ë‹¤ì‹œ student_enrollment_dateë¥¼ ì¶”ê°€í• ê²ë‹ˆë‹¤.

student_id / student_name / student_email / student_enrollment_date ë¼ëŠ” ìˆœì„œë¡œ ì»¬ëŸ¼ì„ êµ¬ì„±í•˜ê² ìŠµë‹ˆë‹¤.
```sql
# ê¸°ì¡´ ì»¬ëŸ¼ ì‚­ì œ sqlë¬¸
ALTER TABLE students DROP COLUMN enrollment_date;
# ìƒˆë¡œìš´ ì»¬ëŸ¼ ì¶”ê°€ sqlë¬¸
ALTER TABLE students 
ADD COLUMN student_enrollment_date VARCHAR(100) NOT NULL;
```
DB ìƒì„± / DB ì‚¬ìš© / í…Œì´ë¸” ìƒì„± / ì»¬ëŸ¼ ì¶”ê°€ / ì»¬ëŸ¼ ìˆ˜ì • / ì»¬ëŸ¼ ì‚­ì œì™€ ê´€ë ¨ëœ DDL

ë‹¤ìŒ ì‹œê°„ì—ëŠ” ìƒì„±í•œ TABLEì— DATA(row)ë¥¼ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œí•˜ëŠ” DMLë¥¼ í•™ìŠµí• ê²ë‹ˆë‹¤.

- students í…Œì´ë¸”ì— ë°ì´í„° ì‚½ì… SQLë¬¸
```sql
INSERT INTO í…Œì´ë¸”ëª… (ì»¬ëŸ¼ëª…1, ì»¬ëŸ¼ëª…2, ..., ì»¬ëŸ¼ëª…n) 
VALUES (ë°ì´í„°a1, ë°ì´í„°a2, ..., ë°ì´í„°an), 
(ë°ì´í„°.b1, ë°ì´í„°b2, ..., ë°ì´í„°bn);

INSERT INTO students (student_name, student_email, student_enrollment_date) VALUES 
('ê¹€ì¼', 'kim1@test.com', '2025-09-18'),
('ê¹€ì´', 'kim2@test.com', '2025-01-01');
```
ì´ìƒì˜ ì½”ë“œì—ì„œ ì£¼ëª©í•˜ì…”ì•¼ í•˜ëŠ” ë¶€ë¶„ì€ student_id ì»¬ëŸ¼ì— ê°’ì„ insert í•˜ì§€ ì•Šì•˜ë‹¤ëŠ” ì ì…ë‹ˆë‹¤. ì´ìœ ëŠ” ì €í¬ê°€ TABLE ìƒì„± ì‹œ(ì¦‰, DDLì„ ì‚¬ìš©í–ˆì„ ë•Œ), AUTO INCREMENTë¥¼ ì ìš©í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ì „ì²´ ì»¬ëŸ¼ì— ì°¨ë¡€ëŒ€ë¡œ ë°ì´í„°ë¥¼ ì…ë ¥í•œë‹¤ê³  ê°€ì •í•˜ë©´ (ì»¬ëŸ¼ëª…1, ì»¬ëŸ¼ëª…2, ..., ì»¬ëŸ¼ëª…n) ë¶€ë¶„ì´ ì—†ì–´ë„ ë©ë‹ˆë‹¤. ë‹¤ë§Œ ì‹¤ë¬´ ìƒì—ì„œëŠ” ì–´ëŠ ì»¬ëŸ¼ì— ì–´ë–¤ ë°ì´í„°ë¥¼ ë„£ì—ˆëŠ”ì§€ ëª…í™•í•˜ê²Œ í•˜ê¸° ìœ„í•´ í•­ìƒ ëª…ì‹œí•´ì£¼ëŠ” í¸ì…ë‹ˆë‹¤.

- íŠ¹ì • ë°ì´í„° ìˆ˜ì • SQLë¬¸
```sql
UPDATE í…Œì´ë¸”ëª…
SET ì»¬ëŸ¼ëª… = ë°”ê¿€ë°ì´í„°ê°’
WHERE ì»¬ëŸ¼ëª… = ê²€ìƒ‰ê°€ëŠ¥í•œë°ì´í„°ê°’

UPDATE students
SET student_name = 'ê¹€ì‚¬ë°±ì˜¤ì‹­'
WHERE student_id = 1;
```

- íŠ¹ì • ë°ì´í„° ì‚­ì œ SQLë¬¸
```sql
DELETE FROM í…Œì´ë¸”ëª…
WHERE ì¡°ê±´;
```

ì§€ì‹œ ì‚¬í•­

1. ê¹€ì‚¼ / kim3@test.com / 2025-02-01 ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ì‹œì˜¤.
2. ê¹€ì‚¬ / kim4@test.com / 2025-03-01 ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ì‹œì˜¤.
3. ê¹€ì‚¼ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì‹œì˜¤.
4. ê¹€ì‚¬ ì´ë¦„ì„ ì§€ë‹ˆê³  ìˆëŠ” ë°ì´í„°ì˜ student_enrollment_dateë¥¼ 2024-04-04ë¡œ ìˆ˜ì •í•˜ì‹œì˜¤.
5. select ë¬¸ì„ í†µí•´ ê¹€ì‚¬ ë°ì´í„°ë§Œ ì½˜ì†”ì— ì¶œë ¥í•˜ì‹œì˜¤.

- ì¶”ê°€ ê´€ë ¨ 1, 2 ë²ˆ ë¬¸í•­
```sql
insert into students (student_name, student_email, student_enrollment_date) values
('ê¹€ì‚¼', 'kim3@test.com', '2025-02-01'),
('ê¹€ì‚¬', 'kim4@test.com', '2025-03-01');
```

- ì‚­ì œ ê´€ë ¨ 3 ë²ˆ ë¬¸í•­
```sql
delete from students where student_name = 'ê¹€ì‚¼';
```

- ìˆ˜ì • ê´€ë ¨ 4, 5 ë²ˆ ë¬¸í•­
```sql
update students set student_enrollment_date = '2024-04-04' where student_name = 'ê¹€ì‚¬';

SELECT * FROM students;
```

ì§€ì‹œ ì‚¬í•­ 
1. ë‹¤ìŒì„ ë§Œì¡±í•˜ëŠ” í…Œì´ë¸”ì„ ìƒì„±í•˜ì‹œì˜¤(sql - ì´ê±¸ë¡œ í•œ ë²ˆ / gui - ì´ê±¸ë¡œ í•œ ë²ˆ ë­ë“ )
í…Œì´ë¸”ëª… : instructor
ì»¬ëŸ¼ëª… :
  1. instructor_id / INT / PK / auto increment ì ìš©
  2. name / varchar(100) / not null
  3. email / varchar(100) / not null
  4. hire_date / DATE / not null
```sql
-- ì •ë‹µ
CREATE TABLE insructor ( 
instructor_id INT AUTO_INCREMENT PRIMARY KEY,
instructor_name VARCHAR(100) NOT NULL,
email VARCHAR(100) NOT NULL,
hire_date DATE NOT null
);
```

2. instructor í…Œì´ë¸”ì— ë‹¤ìŒê³¼ ê°™ì€ ì •ë³´ë¥¼ ì¶”ê°€í•˜ì‹œì˜¤.
ì´ì¼ / 21@test.com / 2025-09-18
ì´ì´ / 22@test.com / 2022-09-18
ì´ì‚¼ / 23@test.com / 2023-09-18

```sql
insert into instructor (instructor_name, email, hire_date) values (
  ('ì´ì¼', '21@test.com', '2025-09-18'),
  ('ì´ì´', '22@test.com', '2022-09-18'),
  ('ì´ì‚¼', '23@test.com', '2023-09-18')
);
```

ì œê°€ ì˜¤ë¥˜ ë‚´ì„œ í…Œì´ë¸”ëª… ë°”ê¾¸ëŠ” sqlë¬¸ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤

```sql
ALTER TABLE insructor RENAME TO instructor;
ALTER TABLE ê¸°ì¡´í…Œì´ë¸”ëª… RENAME TO ìƒˆí…Œì´ë¸”ëª…;
```
ê³¼ëª© í…Œì´ë¸” coursesë¥¼ ìƒì„±
course_id / INT / primary key
course_name / varchar(100)
instructor_id / int / Foreign key
start_date / DATE 
end_date / DATE
```sql
CREATE TABLE courses (
  course_id INT AUTO_INCREMENT PRIMARY KEY,
  course_name VARCHAR(100) NOT NULL,
  instructor_id INT NOT NULL,
  start_date DATE NOT NULL,
  end_date DATE NOT NULL,
  FOREIGN KEY (instructor_id) REFERENCES instructor(instructor_id)
);
```


students / coursesê°„ì˜ ê´€ê³„ í…Œì´ë¸”ì„ í•˜ë‚˜ ë§Œë“¤ê²ë‹ˆë‹¤.
í…Œì´ë¸”ëª… : student_courses

student_id / INT / PK,FK
course_id / INT / PK, FK

- student_idì™€ course_idì˜ ê°’ì„ ì¡°í•©í•˜ì—¬ _ë³µí•© ê¸°ë³¸ í‚¤(Composite Primary Key)_ ë¡œ ì„¤ì •í• ê²ë‹ˆë‹¤.
- ì¼ë°˜ PKì²˜ëŸ¼ í…Œì´ë¸”ì˜ ê° í–‰ì´ ê³ ìœ í•˜ë„ë¡ ë³´ì¥í•˜ë©°, ê°™ì€ ìˆ˜ê°•ìƒì´ ë™ì¼í•œ ê³¼ëª©ì´ ì¤‘ë³µí•´ì„œ ë“±ë¡í•  ìˆ˜ê°€ ì—†ê²Œ ë˜ê² ë„¤ìš”.
ì˜ˆë¥¼ ë“¤ì–´ student_idê°€ 1ì¸ í•™ìƒì´ course_id = 2ì— í•´ë‹¹í•˜ëŠ” python ê³¼ëª©ì„ ìˆ˜ê°•í•œë‹¤ê³  ê°€ì •í–ˆì„ ë•Œì˜ student_courses í…Œì´ë¸”ì˜ pkëŠ” 12ê°€ ë ê²ë‹ˆë‹¤.
ì¶”í›„ 1 í•™ìƒì´ ë‹¤ì‹œ 2 ë¥¼ ë“¤ìœ¼ë ¤ê³  í•˜ë©´ pkê°€ 12ë¡œ ì¤‘ë³µë  ê²ƒì´ê¸° ë•Œë¬¸ì— ê³ ìœ ê°’ì„ ì¹¨í•´í•˜ì—¬ ìˆ˜ê°• ë¶ˆê°€ê°€ ëœ¨ê²Œ ë ê²ë‹ˆë‹¤.

ì¶œì„ í˜„í™© í…Œì´ë¸” ìƒì„±(attendence)
í…Œì´ë¸” ëª… : attendence
attendence_id / int / pk
student_id / int / fk
course_id / int / fk
date / DATE
status / varchar(10) / ì˜ˆì‹œ ì¶œì„, ê²°ì„ etc

```sql
CREATE TABLE attendence (
  attendence_id INT AUTO_INCREMENT PRIMARY KEY,
  student_id INT NOT NULL,
  course_id INT NOT NULL,
  date DATE NOT NULL,
  status VARCHAR(10) NOT NULL,
  FOREIGN KEY (student_id) REFERENCES students(student_id),
  FOREIGN KEY (course_id) REFERFENCES courses(course_id)
);
```

ì˜ˆì œ ë°ì´í„° ì‚½ì…

```sql
-- attendence 
INSERT INTO attendence (student_id, course_id, date, status) VALUES 
(1, 1, '2025-09-18', 'ì¶œ'),
(2, 1, '2025-09-18', 'ê²°'),
(4, 1, '2025-09-18', 'ì¶œ'),
(1, 2, '2025-09-19', 'ì¶œ'),
(2, 2, '2025-09-19', 'ì¶œ'),
(4, 2, '2025-09-19', 'ê²°');

-- courses
INSERT INTO courses (course_name, instructor_id, start_date, end_date) VALUES 
('Java', 1, '2025-09-01', '2025-09-30'),
('Python', 2, '2025-09-02', '2025-09-29');

-- instructor
INSERT INTO instructor (instructor_name, email, hire_date) VALUES 
('ê¹€ì„ ìƒ', 'kimt@test.com', '2025-07-01'),
('ì´ì„ ìƒ', 'leet@test.com', '2024-01-01');

-- student_courses
INSERT INTO student_courses (student_id, course_id) VALUES 
(1, 1),
(2, 1),
(4, 1),
(1, 2),
(4, 2);
```

ì €í¬ê°€ ì´ì „ ìˆ˜í–‰ì—ì„œ studentsì—ì„œ student_id = 3ì„ ì‚­ì œí–ˆê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì „ì²´ì ìœ¼ë¡œ 3ìœ¼ë¡œ ì íŒ ë¶€ë¶„ì„ 4ë¡œ ìˆ˜ì •í•˜ì—¬ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.

ì§€ì‹œ ì‚¬í•­ : 1

1. ìˆ˜ê°•ìƒ ëª©ë¡ ë° ê³¼ëª© ì¡°íšŒ
students / students_courses / courses í…Œì´ë¸”ì„ ê²°í•©í•˜ì—¬, ê° í•™ìƒì˜ ì´ë¦„ê³¼ ê·¸ í•™ìƒì´ ìˆ˜ê°•í•˜ëŠ” ëª¨ë“  ê³¼ëª©ëª…ì„ ì¡°íšŒí•˜ë„ë¡ í• ê²ë‹ˆë‹¤. ê²°ê³¼ëŠ” ì´ë¦„ ìˆœì„œë¡œ.

```sql
SELECT s.student_name, c.course_name
FROM students s
INNER JOIN student_courses sc ON s.student_id = sc.student_id
INNER JOIN courses c ON sc.course_id = c.course_id
ORDER BY s.student_name;
```
2. ê¹€ì‚¬ë°±ì˜¤ì‹­ í•™ìƒì˜ ì´ë¦„ê³¼ ì´ë©”ì¼ ê·¸ë¦¬ê³  ìˆ˜ê°• ê³¼ëª©ì„ ì¶œë ¥í•˜ì‹œì˜¤.
```sql
SELECT s.student_name, s.student_email, c.course_name
FROM students s
INNER JOIN student_courses sc ON s.student_id = sc.student_id
INNER JOIN courses c ON sc.course_id = c.course_id
WHERE s.student_name = 'ê¹€ì‚¬ë°±ì˜¤ì‹­'
ORDER BY s.student_name;
```
3. ì´ì¼ ê°•ì‚¬ì˜ êµìˆ˜ ê³¼ëª©ê³¼ ìˆ˜ê°•ìƒ ìˆ˜ë¥¼ ì¶œë ¥í•˜ì‹œì˜¤.
```sql
SELECT i.instructor_name, c.course_name, COUNT(DISTINCT sc.student_id) AS studentCnt
FROM instructor i
INNER JOIN courses c ON i.instructor_id = c.instructor_id
INNER JOIN student_courses sc ON c.course_id = sc.course_id
WHERE i.instructor_name = 'ì´ì¼'
GROUP BY c.course_name;
```

16:30 ì‹œí—˜ ê´€ë ¨ ì•ˆë‚´
2 ê°œ ê³¼ëª©
1. SQL í™œìš© / 30 ë¬¸í•­ / 4ì§€ì„ ë‹¤ / 
2. SQL ì‘ìš© - 50ë¬¸ì œ
  - DB ìƒì„± / í…Œì´ë¸” ìƒì„± / ì»¬ëŸ¼ ìƒì„±ê³¼ ê´€ë ¨ëœ DDL
  - ê·¸ë¦¬ê³  ê·¸ í…Œì´ë¸”ë“¤ì— ë§ëŠ” ë°ì´í„°ë¥¼ ì§‘ì–´ë„£ëŠ” ê²ƒê¹Œì§€ ë‹¤ ë¬¸ì œí™” ë˜ì–´ìˆìŠµë‹ˆë‹¤.
  - ì´ìƒì˜ ì‘ì—…ì„ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ë¨¸ì§€ URDì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„, íŠ¹íˆ R ë¶€ë¶„ì˜ ê²½ìš°ëŠ” ë‹¤ì–‘í•œ ì¡°ê±´ ë° ê·¸ë£¹í™”, ê·¸ë¦¬ê³  ì •ë ¬ ìˆœì„œì™€ ê´€ë ¨ëœ ëª¨ë“  ê²ƒë“¤ì´ í¬í•¨ë  ì˜ˆì •


git add .
git commit -m "feat: 20250918 create / update / delete lesson, ì‹œí—˜ ì˜ì¹˜ì„¸ìš” !!"
git push

ìê²© ì¦ëª… ì‚­ì œ
ìë¦¬ ì •ë¦¬
